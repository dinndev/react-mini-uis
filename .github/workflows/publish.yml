# NPM Publish is the name for this action
name: NPM Publish

# This action will trigger on every release get created
on:
  push:
    branches:
      - master

# Job will run on a ubuntu instance
jobs:
  build:
    runs-on: macos-latest
    steps:
      # Checkout the code
      - uses: actions/checkout@v2
      # Setup node with version 12.x and NPM registry url
      - uses: actions/setup-node@v1
        with:
          node-version: '12.x'
          registry-url: 'https://registry.npmjs.org'
     - name: npm bump
       uses: bcomnes/npm-bump@v2.0.2
       with:
         git_email: jendanielev@gmail.com
         git_username: ${{ github.actor }}
         newversion: ${{ github.event.inputs.newversion }}
         push_version_commit: true # if your prePublishOnly step pushes git commits, you can omit this input or set it to false.
         github_token: ${{ secrets.GH_TOKEN }} # built in actions token.  Passed tp gh-release if in use.
         npm_token: ${{ secrets.NPM_AUTH_TOKEN }} # user set secret token generated at npm
